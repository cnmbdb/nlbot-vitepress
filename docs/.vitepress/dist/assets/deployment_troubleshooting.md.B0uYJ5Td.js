import{_ as i,o as a,c as l,ae as t}from"./chunks/framework.BD9pLfSD.js";const c=JSON.parse('{"title":"故障排查","description":"","frontmatter":{},"headers":[],"relativePath":"deployment/troubleshooting.md","filePath":"deployment/troubleshooting.md"}'),e={name:"deployment/troubleshooting.md"};function h(n,s,p,o,k,r){return a(),l("div",null,[...s[0]||(s[0]=[t(`<h1 id="故障排查" tabindex="-1">故障排查 <a class="header-anchor" href="#故障排查" aria-label="Permalink to &quot;故障排查&quot;">​</a></h1><p>本文档提供常见问题的排查和解决方法。</p><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><h3 id="_1-服务无法启动" tabindex="-1">1. 服务无法启动 <a class="header-anchor" href="#_1-服务无法启动" aria-label="Permalink to &quot;1. 服务无法启动&quot;">​</a></h3><h4 id="问题现象" tabindex="-1">问题现象 <a class="header-anchor" href="#问题现象" aria-label="Permalink to &quot;问题现象&quot;">​</a></h4><ul><li>Docker 容器无法启动</li><li>服务不断重启</li></ul><h4 id="排查步骤" tabindex="-1">排查步骤 <a class="header-anchor" href="#排查步骤" aria-label="Permalink to &quot;排查步骤&quot;">​</a></h4><ol><li><strong>查看日志</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span></code></pre></div><ol start="2"><li><strong>检查端口占用</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 检查端口是否被占用</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lsof</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :3000</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">netstat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -an</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3000</span></span></code></pre></div><ol start="3"><li><strong>检查 Docker 状态</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span></span></code></pre></div><h4 id="解决方法" tabindex="-1">解决方法 <a class="header-anchor" href="#解决方法" aria-label="Permalink to &quot;解决方法&quot;">​</a></h4><ul><li>如果端口被占用，修改 <code>.env</code> 中的 <code>PORT</code></li><li>如果容器异常，删除并重新创建：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><h3 id="_2-数据库连接失败" tabindex="-1">2. 数据库连接失败 <a class="header-anchor" href="#_2-数据库连接失败" aria-label="Permalink to &quot;2. 数据库连接失败&quot;">​</a></h3><h4 id="问题现象-1" tabindex="-1">问题现象 <a class="header-anchor" href="#问题现象-1" aria-label="Permalink to &quot;问题现象&quot;">​</a></h4><ul><li>应用无法连接数据库</li><li>出现数据库连接错误</li></ul><h4 id="排查步骤-1" tabindex="-1">排查步骤 <a class="header-anchor" href="#排查步骤-1" aria-label="Permalink to &quot;排查步骤&quot;">​</a></h4><ol><li><strong>检查数据库服务</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span></span></code></pre></div><ol start="2"><li><strong>测试数据库连接</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -uroot</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span></span></code></pre></div><ol start="3"><li><strong>检查环境变量</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DB_</span></span></code></pre></div><h4 id="解决方法-1" tabindex="-1">解决方法 <a class="header-anchor" href="#解决方法-1" aria-label="Permalink to &quot;解决方法&quot;">​</a></h4><ul><li>检查 <code>.env</code> 中的数据库配置</li><li>确保数据库容器已启动</li><li>验证数据库密码是否正确</li><li>检查数据库是否已初始化</li></ul><h3 id="_3-bot-无法连接" tabindex="-1">3. Bot 无法连接 <a class="header-anchor" href="#_3-bot-无法连接" aria-label="Permalink to &quot;3. Bot 无法连接&quot;">​</a></h3><h4 id="问题现象-2" tabindex="-1">问题现象 <a class="header-anchor" href="#问题现象-2" aria-label="Permalink to &quot;问题现象&quot;">​</a></h4><ul><li>Bot 无法响应消息</li><li>Bot 容器不断重启</li></ul><h4 id="排查步骤-2" tabindex="-1">排查步骤 <a class="header-anchor" href="#排查步骤-2" aria-label="Permalink to &quot;排查步骤&quot;">​</a></h4><ol><li><strong>查看 Bot 日志</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bot</span></span></code></pre></div><ol start="2"><li><strong>检查 Token</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nl-2333/config.txt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> TOKEN</span></span></code></pre></div><ol start="3"><li><strong>检查网络连接</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ping</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> api.telegram.org</span></span></code></pre></div><h4 id="解决方法-2" tabindex="-1">解决方法 <a class="header-anchor" href="#解决方法-2" aria-label="Permalink to &quot;解决方法&quot;">​</a></h4><ul><li>验证 Bot Token 是否正确</li><li>检查网络连接</li><li>查看 Bot 日志中的错误信息</li><li>重启 Bot 容器：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bot</span></span></code></pre></div><h3 id="_4-能量池-api-连接失败" tabindex="-1">4. 能量池 API 连接失败 <a class="header-anchor" href="#_4-能量池-api-连接失败" aria-label="Permalink to &quot;4. 能量池 API 连接失败&quot;">​</a></h3><h4 id="问题现象-3" tabindex="-1">问题现象 <a class="header-anchor" href="#问题现象-3" aria-label="Permalink to &quot;问题现象&quot;">​</a></h4><ul><li>Bot 无法访问能量池 API</li><li>出现连接超时错误</li></ul><h4 id="排查步骤-3" tabindex="-1">排查步骤 <a class="header-anchor" href="#排查步骤-3" aria-label="Permalink to &quot;排查步骤&quot;">​</a></h4><ol><li><strong>检查宿主机服务</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 确保 tgnl-home 服务在运行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:3000/api/health</span></span></code></pre></div><ol start="2"><li><strong>检查 config.txt</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nl-2333/config.txt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> energy_pool_api</span></span></code></pre></div><ol start="3"><li><strong>测试容器内连接</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://host.docker.internal:3000/api/health</span></span></code></pre></div><h4 id="解决方法-3" tabindex="-1">解决方法 <a class="header-anchor" href="#解决方法-3" aria-label="Permalink to &quot;解决方法&quot;">​</a></h4><ul><li>确保 <code>tgnl-home</code> 服务在宿主机运行</li><li>检查 <code>config.txt</code> 中的 <code>energy_pool_api</code> 配置</li><li>在 Linux 系统上，可能需要配置 <code>extra_hosts</code></li></ul><h3 id="_5-页面无法访问" tabindex="-1">5. 页面无法访问 <a class="header-anchor" href="#_5-页面无法访问" aria-label="Permalink to &quot;5. 页面无法访问&quot;">​</a></h3><h4 id="问题现象-4" tabindex="-1">问题现象 <a class="header-anchor" href="#问题现象-4" aria-label="Permalink to &quot;问题现象&quot;">​</a></h4><ul><li>浏览器无法访问管理后台</li><li>出现 404 或 500 错误</li></ul><h4 id="排查步骤-4" tabindex="-1">排查步骤 <a class="header-anchor" href="#排查步骤-4" aria-label="Permalink to &quot;排查步骤&quot;">​</a></h4><ol><li><strong>检查服务状态</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app</span></span></code></pre></div><ol start="2"><li><strong>查看应用日志</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app</span></span></code></pre></div><ol start="3"><li><strong>检查端口</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:3000/admin</span></span></code></pre></div><h4 id="解决方法-4" tabindex="-1">解决方法 <a class="header-anchor" href="#解决方法-4" aria-label="Permalink to &quot;解决方法&quot;">​</a></h4><ul><li>确保应用容器已启动</li><li>检查端口是否正确</li><li>查看应用日志中的错误信息</li><li>重启应用容器：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app</span></span></code></pre></div><h3 id="_6-数据丢失" tabindex="-1">6. 数据丢失 <a class="header-anchor" href="#_6-数据丢失" aria-label="Permalink to &quot;6. 数据丢失&quot;">​</a></h3><h4 id="问题现象-5" tabindex="-1">问题现象 <a class="header-anchor" href="#问题现象-5" aria-label="Permalink to &quot;问题现象&quot;">​</a></h4><ul><li>数据库数据丢失</li><li>重启后数据消失</li></ul><h4 id="排查步骤-5" tabindex="-1">排查步骤 <a class="header-anchor" href="#排查步骤-5" aria-label="Permalink to &quot;排查步骤&quot;">​</a></h4><ol><li><strong>检查数据卷</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> volume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> volume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inspect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tgnl-admin_db_data</span></span></code></pre></div><ol start="2"><li><strong>检查挂载配置</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> volumes</span></span></code></pre></div><h4 id="解决方法-5" tabindex="-1">解决方法 <a class="header-anchor" href="#解决方法-5" aria-label="Permalink to &quot;解决方法&quot;">​</a></h4><ul><li>确保数据卷正确挂载</li><li>不要使用 <code>docker compose down -v</code>（会删除数据）</li><li>定期备份数据库</li></ul><h2 id="日志查看" tabindex="-1">日志查看 <a class="header-anchor" href="#日志查看" aria-label="Permalink to &quot;日志查看&quot;">​</a></h2><h3 id="查看所有服务日志" tabindex="-1">查看所有服务日志 <a class="header-anchor" href="#查看所有服务日志" aria-label="Permalink to &quot;查看所有服务日志&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span></code></pre></div><h3 id="查看特定服务日志" tabindex="-1">查看特定服务日志 <a class="header-anchor" href="#查看特定服务日志" aria-label="Permalink to &quot;查看特定服务日志&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span></span></code></pre></div><h3 id="查看最近日志" tabindex="-1">查看最近日志 <a class="header-anchor" href="#查看最近日志" aria-label="Permalink to &quot;查看最近日志&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tail=100</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app</span></span></code></pre></div><h2 id="性能问题" tabindex="-1">性能问题 <a class="header-anchor" href="#性能问题" aria-label="Permalink to &quot;性能问题&quot;">​</a></h2><h3 id="内存不足" tabindex="-1">内存不足 <a class="header-anchor" href="#内存不足" aria-label="Permalink to &quot;内存不足&quot;">​</a></h3><p><strong>症状</strong>：容器频繁重启，日志显示 OOM</p><p><strong>解决</strong>：</p><ul><li>增加 Docker 内存限制</li><li>优化应用配置</li><li>减少并发请求</li></ul><h3 id="cpu-占用过高" tabindex="-1">CPU 占用过高 <a class="header-anchor" href="#cpu-占用过高" aria-label="Permalink to &quot;CPU 占用过高&quot;">​</a></h3><p><strong>症状</strong>：系统响应缓慢</p><p><strong>解决</strong>：</p><ul><li>检查是否有异常进程</li><li>优化数据库查询</li><li>增加服务器资源</li></ul><h2 id="网络问题" tabindex="-1">网络问题 <a class="header-anchor" href="#网络问题" aria-label="Permalink to &quot;网络问题&quot;">​</a></h2><h3 id="容器间无法通信" tabindex="-1">容器间无法通信 <a class="header-anchor" href="#容器间无法通信" aria-label="Permalink to &quot;容器间无法通信&quot;">​</a></h3><p><strong>解决</strong>：</p><ul><li>检查 Docker 网络配置</li><li>确保服务在同一网络中</li><li>使用服务名而非 IP 地址</li></ul><h3 id="外部无法访问" tabindex="-1">外部无法访问 <a class="header-anchor" href="#外部无法访问" aria-label="Permalink to &quot;外部无法访问&quot;">​</a></h3><p><strong>解决</strong>：</p><ul><li>检查端口映射配置</li><li>检查防火墙设置</li><li>验证端口是否正确暴露</li></ul><h2 id="获取帮助" tabindex="-1">获取帮助 <a class="header-anchor" href="#获取帮助" aria-label="Permalink to &quot;获取帮助&quot;">​</a></h2><p>如果以上方法无法解决问题：</p><ol><li><p><strong>收集信息</strong></p><ul><li>系统日志</li><li>Docker 日志</li><li>配置文件</li><li>错误信息</li></ul></li><li><p><strong>查看文档</strong></p><ul><li><a href="/deployment/docker.html">Docker 部署</a></li><li><a href="/deployment/environment.html">环境配置</a></li></ul></li><li><p><strong>联系支持</strong></p><ul><li>提交 Issue</li><li>提供详细错误信息</li></ul></li></ol><h2 id="相关文档" tabindex="-1">相关文档 <a class="header-anchor" href="#相关文档" aria-label="Permalink to &quot;相关文档&quot;">​</a></h2><ul><li><a href="/deployment/docker.html">Docker 部署</a></li><li><a href="/deployment/environment.html">环境配置</a></li></ul>`,104)])])}const g=i(e,[["render",h]]);export{c as __pageData,g as default};
